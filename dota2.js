var axios = require('axios');
var qs = require('qs');
const fs = require('fs');
const teamIds = [
  4,
  5,
  15,
  36,
  39,
  2163,
  17780,
  36568,
  111474,
  350190,
  380888,
  394760,
  398096,
  408067,
  433549,
  514377,
  671786,
  673797,
  726228,
  762113,
  782858,
  802379,
  1061269,
  1081332,
  1139737,
  1373528,
  1432996,
  1433651,
  1520578,
  1603522,
  1620751,
  1729900,
  1739522,
  1758252,
  1838315,
  1862810,
  2025203,
  2037442,
  2086355,
  2116622,
  2151752,
  2176096,
  2203697,
  2211026,
  2244022,
  2289950,
  2291831,
  2363093,
  2391069,
  2418576,
  2431270,
  2449039,
  2468316,
  2488789,
  2519920,
  2568557,
  2573215,
  2586976,
  2614991,
  2631260,
  2640025,
  2642984,
  2644178,
  2653774,
  2666297,
  2667009,
  2667293,
  2671680,
  2672298,
  2700705,
  2706009,
  2721497,
  2740980,
  2756591,
  2772977,
  2802960,
  2833068,
  2848242,
  2863247,
  2871456,
  2893482,
  2923285,
  3052331,
  3263623,
  3322104,
  3322951,
  3487171,
  3546438,
  3578953,
  3655871,
  3720867,
  3729274,
  3785699,
  3917770,
  4002191,
  4002903,
  4008466,
  4108089,
  4138364,
  4140211,
  4182799,
  4185860,
  4254524,
  4369618,
  4422159,
  4651265,
  4707806,
  4709130,
  4841221,
  4919496,
  4989697,
  4993160,
  5007972,
  5009983,
  5011292,
  5013326,
  5014799,
  5020794,
  5029445,
  5043421,
  5053052,
  5054437,
  5068618,
  5074114,
  5084230,
  5116078,
  5136616,
  5168070,
  5180623,
  5190480,
  5198066,
  5212016,
  5225538,
  5239021,
  5258994,
  5263940,
  5328683,
  5329285,
  5465187,
  5589040,
  5639796,
  5679082,
  5679172,
  5922927,
  5956856,
  5992560,
  5992612,
  5993978,
  6047917,
  6141518,
  6143737,
  6167469,
  6184192,
  6186326,
  6187439,
  6203289,
  6209166,
  6209370,
  6209804,
  6210180,
  6212248,
  6239203,
  6409189,
  6463095,
  6463605,
  6519374,
  6543464,
  6567208,
  6568582,
  6611586,
  6613920,
  6635738,
  6656562,
  6709954,
  6720199,
  6738636,
  6765751,
  6767209,
  6768584,
  6768622,
  6796871,
  6870102,
  6875069,
  6876575,
  6901228,
  6903962,
  6927264,
  6937607,
  6937983,
  6952234,
  6978993,
  6983062,
  6990275,
  7009301,
  7009411,
  7010794,
  7011443,
  7101585,
  7118136,
  7119077,
  7119219,
  7119388,
  7119665,
  7135890,
  7137297,
  7139400,
  7144591,
  7169522,
  7187900,
  7204131,
  7232807,
  7233338,
  7234600,
  7252235,
  7266156,
  7266882,
  7285743,
  7300277,
  7314182,
  7338844,
  7341116,
  7356881,
  7360363,
  7361400,
  7361440,
  7389673,
  7390104,
  7390280,
  7390454,
  7391077,
  7391638,
  7392095,
  7405684,
  7406940,
  7407260,
  7422789,
  7423451,
  7437800,
  7441073,
  7453020,
  7469838,
  7482462,
  7495416,
  7499988,
  7500439,
  7519076,
  7529877,
  7541656,
  7542619,
  7554697,
  7555482,
  7555716,
  7564827,
  7566309,
  7567059,
  7579918,
  7584152,
  7587613,
  7587975,
  7597592,
  7626304,
  7666141,
  7668774,
  7669105,
  7680871,
  7683147,
  7698930,
  7699038,
  7700496,
  7714071,
  7715349,
  7731241,
  7732489,
  7732977,
  7738472,
  7750587,
  7763525,
  7766084,
  7770228,
  7781040,
  7782901,
  7817577,
  7818635,
  7871248,
  7872615,
  7877588,
  7890601,
  7890937,
  7895865,
  7917893,
  7938827,
  7959349,
  7972451,
  7976827,
  7976849,
  7980002,
  7980476,
  7995638,
  7997599,
  8014873,
  8022623,
  8025349,
  8041044,
  8041232,
  8073417,
  8082804,
  8082807,
  8083761,
  8090572,
  8093655,
  8118197,
  8124688,
  8125587,
  8125831,
  8126892,
  8131718,
  8131728,
  8132384,
  8132424,
  8132656,
  8137247,
  8138081,
  8138900,
  8139258,
  8143199,
  8144004,
  8151089,
  8151688,
  8160301,
  8161283,
  8169624,
  8169775,
  8172071,
  8172650,
  8172776,
  8175183,
  8180673,
  8180753,
  8183171,
  8183286,
  8193131,
  8195175,
  8195604,
  8203841,
  8204077,
  8204512,
  8205424,
  8205759,
  8205803,
  8214302,
  8214850,
  8221723,
  8224027,
  8230115,
  8230725,
  8238118,
  8244490,
  8244493,
  8244496,
  8246000,
  8246157,
  8246521,
  8252868,
  8254112,
  8254145,
  8254400,
  8255756,
  8255804,
  8255888,
  8259595,
  8260932,
  8260983,
  8261500,
  8261554,
  8261648,
  8261868,
  8261882,
  8262006,
  8262179,
  8262451,
  8262738,
  8264004,
  8270237,
  8271289,
  8272699,
  8272904,
  8282063,
  8282337,
  8282543,
  8283090,
  8290327,
  8290941,
  8291753,
  8291782,
  8291895,
  8292169,
  8300512,
  8300544,
  8309352,
  8312676,
  8318533,
  8318683,
  8328293,
  8335155,
  8335298,
  8335934,
  8336882,
  8336915,
  8343475,
  8343720,
  8343813,
  8344017,
  8344372,
  8344760,
  8345513,
  8350517,
  8352150,
  8360138,
  8367062,
  8368575,
  8374648,
  8375259,
  8375409,
  8375621,
  8376015,
  8376426,
  8376571,
  8376696,
  8381141,
  8384156,
  8386071,
  8390848,
  8399116,
  8400113,
  8406842,
  8411147,
  8413007,
  8413779,
  8419633,
  8421015,
  8421496,
  8421741,
  8421745,
  8421850,
  8426511,
  8427260,
  8427498,
  8428410,
  8429424,
  8430673,
  8435079,
  8435496,
  8442532,
  8450590,
  8450773,
  8456285,
  8457633,
  8464227,
  8469159,
  8469179,
  8469656,
  8469802,
  8475215,
  8475870,
  8477089,
  8481715,
  8482380,
  8483214,
  8483501,
  8488277,
  8488841,
  8489312,
  8493532,
  8494646,
  8494848,
  8495038,
  8495117,
  8495738,
  8495747,
  8495820,
  8495984,
  8496587,
  8508896,
  8513932,
  8514075,
  8519148,
  8519979,
  8520418,
  8520563,
  8520903,
  8521909,
  8525778,
  8532240,
  8532537,
  8533650,
  8537844,
  8538133,
  8538804,
  8539030,
  8539371,
  8540482,
  8545441,
  8545488,
  8550835,
  8551087,
  8554105,
  8555198,
  8556530,
  8557339,
  8557556,
  8563443,
  8563902,
  8564052,
  8564730,
  8564782,
  8565398,
  8571725,
  8572181,
  8572803,
  8572960,
  8573461,
  8574072,
  8574561,
  8575195,
  8581426,
  8581600,
  8582076,
  8588969,
  8589124,
  8589181,
  8589459,
  8590531,
  8590686,
  8590807,
  8591054,
  8591132,
  8591487,
  8597391,
  8597976,
  8598633,
  8598809,
  8599073,
  8599101,
  8599346,
  8599364,
  8600659,
  8600818,
  8602698,
  8604731,
  8604954,
  8605202,
  8605671,
  8605844,
  8605863,
  8606148,
  8606180,
  8606358,
  8606563,
  8606828,
  8606952,
  8607067,
  8607159,
  8607508,
  8607589,
  8607642,
  8608229,
  8608867,
  8612222,
  8612581,
  8613273,
  8616073,
  8620454,
  8620831,
  8626587,
  8627837,
  8628305,
  8629886,
  8633780,
  8634427,
  8642858,
  8643666,
  8643930,
  8644048,
  8648237,
  8649177,
  8650496,
  8654528,
  8655278,
  8655564,
  8655720,
  8656246,
  8660789,
  8661304,
  8662476,
  8662486,
  8667825,
  8668250,
  8668460,
  8668539,
  8673873,
  8673956,
  8674012,
  8674734,
  8675233,
  8679498,
  8679586,
  8679900,
  8680593,
  8680612,
  8681474,
  8685671,
  8685696,
  8686286,
  8686313,
  8686363,
  8686759,
  8686786,
  8687019,
  8687568,
  8687717,
  8690129,
  8690141,
  8690635,
  8690708,
  8691014,
  8692130,
  8692297,
  8692432,
  8692668,
  8692872,
  8696013,
  8696218,
  8700846,
  8701271,
  8701585,
  8701622,
  8702318,
  8702324,
  8710411,
  8710735,
  8712980,
  8713276,
  8713367,
  8714487,
  8715395,
  8717898,
  8718263,
  8718483,
  8718684,
  8719159,
  8721219,
  8721702,
  8721881,
  8724829,
  8724984,
  8725475,
  8725940,
  8726503,
  8728667,
  8728920,
  8729247,
  8729372,
  8729466,
  8729691,
  8732211,
  8733722,
  8733947,
  8736241,
  8736328,
  8736406,
  8736417,
  8736508,
  8736568,
  8736608,
  8736661,
  8737163,
  8737266,
  8737524,
  8737555,
  8737621,
  8738253,
  8740097,
  8740972,
  9018693,
  8741196,
  8741276,
  8741301,
  8741331,
  8741396,
  8741419,
  8741433,
  8742087,
  8742375,
  8745306,
  8745482,
  8745503,
  8745590,
  8745854,
  8745968,
  8746194,
  8746336,
  8746429,
  8746831,
  8746929,
  8747518,
  8747613,
  8750220,
  8750321,
  8751053,
  8751455,
  8754288,
  8755932,
  8756129,
  8756364,
  8757202,
  8760250,
  8760288,
  8760354,
  8760694,
  8761395,
  8764719,
  8765141,
  8765741,
  8765917,
  8766158,
  8769201,
  8769275,
  8769466,
  8769941,
  8770348,
  8770471,
  8770609,
  8774306,
  8774575,
  8774705,
  8775150,
  8775446,
  8779071,
  8779230,
  8779267,
  8779837,
  8780528,
  8783845,
  8785048,
  8787852,
  8789000,
  8789070,
  8789264,
  8789880,
  8790271,
  8793417,
  8793641,
  8795321,
  8798706,
  8798855,
  8799122,
  8799332,
  8800502,
  8800912,
  8803219,
  8804526,
  8805148,
  8805885,
  8806327,
  8808535,
  8809754,
  8809998,
  8810012,
  8810150,
  8810327,
  8810686,
  8810784,
  8811259,
  8814687,
  8814993,
  8816123,
  8816338,
  8819898,
  8820008,
  8820032,
  8820521,
  8820613,
  8820672,
  8821048,
  8822246,
  8827318,
  8827325,
  8827422,
  8829093,
  8829139,
  8829193,
  8829881,
  8829924,
  8830008,
  8830128,
  8830188,
  8830246,
  8830753,
  8831018,
  8831040,
  8831066,
  8831080,
  8832315,
  8836478,
  8836544,
  8836582,
  8836624,
  8837033,
  8838314,
  8838423,
  8838439,
  8838543,
  8838964,
  8842714,
  8843207,
  8843575,
  8843592,
  8843806,
  8843862,
  8843980,
  8844062,
  8844369,
  8844401,
  8848260,
  8848663,
  8849030,
  8849566,
  8849661,
  8849707,
  8849975,
  8850321,
  8850686,
  8851455,
  8854959,
  8855317,
  8856066,
  8856470,
  8856662,
  8856719,
  8857245,
  8857319,
  8857355,
  8857561,
  8858045,
  8862205,
  8862332,
  8862632,
  8862846,
  8862976,
  8863602,
  8863729,
  8863825,
  8864150,
  8864380,
  8864810,
  8864860,
  8876649,
  8876670,
  8876832,
  8876873,
  8876914,
  8876915,
  8876919,
  8877146,
  8877157,
  8877196,
  8877226,
  8877394,
  8877569,
  8877768,
  8877805,
  8877832,
  8877878,
  8877886,
  8877954,
  8878010,
  8878070,
  8878439,
  8878486,
  8878556,
  8878679,
  8878902,
  8879048,
  8879134,
  8879145,
  8880007,
  8890236,
  8890255,
  8893051,
  8893109,
  8893469,
  8893657,
  8893828,
  8893837,
  8894264,
  8894370,
  8894792,
  8894818,
  8909721,
  8909835,
  8910146,
  8910155,
  8910167,
  8910205,
  8910275,
  8910279,
  8910405,
  8910455,
  8910490,
  8910501,
  8910506,
  8910513,
  8910552,
  8910607,
  8910637,
  8910871,
  8910895,
  8911139,
  8911228,
  8911263,
  8911264,
  8911284,
  8911308,
  8911387,
  8911439,
  8911451,
  8911464,
  8911483,
  8911497,
  8911572,
  8911573,
  8911671,
  8911755,
  8911795,
  8913481,
  8913551,
  8913568,
  8922686,
  8922768,
  8925667,
  8925953,
  8926052,
  8926093,
  8926109,
  8926169,
  8926179,
  8926190,
  8926219,
  8926221,
  8926296,
  8926302,
  8926328,
  8926331,
  8926359,
  8926363,
  8926409,
  8926539,
  8926584,
  8926625,
  8926802,
  8926863,
  8926901,
  8926929,
  8927006,
  8927141,
  8927316,
  8927368,
  8927411,
  8928700,
  8934135,
  8935764,
  8935943,
  8935989,
  8936015,
  8936051,
  8936060,
  8936078,
  8936151,
  8936202,
  8936210,
  8936239,
  8936268,
  8936289,
  8936328,
  8936467,
  8936481,
  8936507,
  8936557,
  8936674,
  8936744,
  8936829,
  8936833,
  8936877,
  8936884,
  8936890,
  8936898,
  8936900,
  8936911,
  8936915,
  8936919,
  8936943,
  8936995,
  8936996,
  8936999,
  8937014,
  8937039,
  8937091,
  8937261,
  8937283,
  8937317,
  8937324,
  8937334,
  8937390,
  8937486,
  8937508,
  8937548,
  8937566,
  8938360,
  8938426,
  8942295,
  8942300,
  8942337,
  8942363,
  8943230,
  8943242,
  8943318,
  8943352,
  8943353,
  8943400,
  8943428,
  8943444,
  8943453,
  8943492,
  8943506,
  8943511,
  8943595,
  8943618,
  8943640,
  8943647,
  8943671,
  8943673,
  8943680,
  8943698,
  8943702,
  8943763,
  8943764,
  8943766,
  8943795,
  8943871,
  8943901,
  8943906,
  8943921,
  8943926,
  8943970,
  8943975,
  8943986,
  8943997,
  8944022,
  8944105,
  8944174,
  8944176,
  8944201,
  8944213,
  8944221,
  8944224,
  8944230,
  8944260,
  8944263,
  8944274,
  8944279,
  8944282,
  8944283,
  8944298,
  8944300,
  8944302,
  8944333,
  8944335,
  8944337,
  8944348,
  8944364,
  8944367,
  8944383,
  8944409,
  8944417,
  8944440,
  8944442,
  8944468,
  8944469,
  8944471,
  8944472,
  8944513,
  8944518,
  8944524,
  8944532,
  8944533,
  8944573,
  8944578,
  8944582,
  8944583,
  8944596,
  8944625,
  8944626,
  8944630,
  8944636,
  8944665,
  8944666,
  8944670,
  8944671,
  8944673,
  8944676,
  8944681,
  8944710,
  8944712,
  8944731,
  8944737,
  8944739,
  8944743,
  8944744,
  8944745,
  8944766,
  8944789,
  8944790,
  8944798,
  8944801,
  8944805,
  8944806,
  8944810,
  8944813,
  8944818,
  8944822,
  8944829,
  8944831,
  8944845,
  8944859,
  8944871,
  8944879,
  8944885,
  8944892,
  8944936,
  8944938,
  8944940,
  8944942,
  8944959,
  8944963,
  8944973,
  8944974,
  8944981,
  8944992,
  8945005,
  8945017,
  8945023,
  8945032,
  8945043,
  8945047,
  8945052,
  8945057,
  8945073,
  8945087,
  8945093,
  8945107,
  8945127,
  8945130,
  8945131,
  8945136,
  8945146,
  8945188,
  8945207,
  8945211,
  8945251,
  8945286,
  8946054,
  8949405,
  8949730,
  8950102,
  8950105,
  8950106,
  8950112,
  8950156,
  8950218,
  8950269,
  8950273,
  8950315,
  8950346,
  8950403,
  8950418,
  8950448,
  8950474,
  8950666,
  8950748,
  8950760,
  8950789,
  8950802,
  8950811,
  8950821,
  8950850,
  8950865,
  8950873,
  8950890,
  8950918,
  8950929,
  8950936,
  8950952,
  8950960,
  8950962,
  8950979,
  8951095,
  8951096,
  8951124,
  8951215,
  8951291,
  8951344,
  8951348,
  8951412,
  8951435,
  8951525,
  8951556,
  8951581,
  8951634,
  8951798,
  8951806,
  8951807,
  8951828,
  8951846,
  8952312,
  8952547,
  8952601,
  8955807,
  8956413,
  8956576,
  8956693,
  8956740,
  8957038,
  8957686,
  8957725,
  8957740,
  8961367,
  8961699,
  8961768,
  8961813,
  8962005,
  8962236,
  8962325,
  8962538,
  8962567,
  8962585,
  8962591,
  8962602,
  8963218,
  8963925,
  8964270,
  8964387,
  8964628,
  8964979,
  8965054,
  8965125,
  8965127,
  8965173,
  8965235,
  8965322,
  8969260,
  8969573,
  8969813,
  8969901,
  8970138,
  8970412,
  8970488,
  8970514,
  8970524,
  8970616,
  8971308,
  8975211,
  8975241,
  8975615,
  8975678,
  8975854,
  8976051,
  8976063,
  8976087,
  8976173,
  8976247,
  8976297,
  8976305,
  8980714,
  8980878,
  8981189,
  8981378,
  8981475,
  8981771,
  8981849,
  8981882,
  8981938,
  8981950,
  8982087,
  8985472,
  8985496,
  8986338,
  8986512,
  8986683,
  8986690,
  8986877,
  8986931,
  8987010,
  8987091,
  8987158,
  8987356,
  8987391,
  8987409,
  8987512,
  8987557,
  8987650,
  8987656,
  8991125,
  8991338,
  8991348,
  8992103,
  8992236,
  8992311,
  8992464,
  8992485,
  8992563,
  8992733,
  8992747,
  8993086,
  8993116,
  8993131,
  8993162,
  8993168,
  8993427,
  8993466,
  8993642,
  8993777,
  8994291,
  8994398,
  8997615,
  8998328,
  8998542,
  8998625,
  8998676,
  8998716,
  8999125,
  8999152,
  8999367,
  8999400,
  8999662,
  9000201,
  9004403,
  9004433,
  9004701,
  9005019,
  9005058,
  9005165,
  9005248,
  9005253,
  9005257,
  9005336,
  9005346,
  9005380,
  9005455,
  9005522,
  9005570,
  9005632,
  9005948,
  9005967,
  9006055,
  9006598,
  9006653,
  9006718,
  9010533,
  9010751,
  9010967,
  9011208,
  9011216,
  9011262,
  9011288,
  9011538,
  9011692,
  9012048,
  9012169,
  9012276,
  9012294,
  9012373,
  9012765,
  9016357,
  9016633,
  9017006,
  9017028,
  9017079,
  9017096,
  9017117,
  9017162,
  9017189,
  9017284,
  9017319,
  9017326,
  9017371,
  9017443,
  9017446,
  9017478,
  9017495,
  9017510,
  9017555,
  9017567,
  9017593,
  9017634,
  9017636,
  9017640,
  9017641,
  9017642,
  9017654,
  9017660,
  9017672,
  9017688,
  9017698,
  9017707,
  9017713,
  9017718,
  9017722,
  9017765,
  9017772,
  9017782,
  9017805,
  9017811,
  9017851,
  9017872,
  9017875,
  9017907,
  9017934,
  9017963,
  9017968,
  9017997,
  9018036,
  9018083,
  9018093,
  9018108,
  9018138,
  9018156,
  9018209,
  9018222,
  9018311,
  9018312,
  9018348,
  9018350,
  9018363,
  9018370,
  9018374,
  9018398,
  9018432,
  9018436,
  9018460,
  9018485,
  9018528,
  9018539,
  9018543,
  9018550,
  9018620,
  9018625,
  9018631,
  9018644,
  9018650,
  9018653,
  9018664,
  9018665,
  9018674,
  8741154,
  9017585,
  9017998,
  9011334
]
const teams = []

function getMembers(id) {
  var config = {
    method: 'get',
    maxBodyLength: Infinity,
    headers: {
      'authority': 'www.dota2.com',
      'accept': '*/*',
      'accept-language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6,vi;q=0.5,fr;q=0.4',
      'cookie': 'Steam_Language=schinese; sessionid=7909e47f111e6e05903e8bf7; dota_oauth_token=6eaafaf3b96e744b4ecc7a0a27478da9; dota_oauth_info=YTozOntzOjc6InN0ZWFtaWQiO3M6MTc6Ijc2NTYxMTk4MDk2NDYxMzg3IjtzOjk6ImNsaWVudF9pZCI7czo4OiI5YjJjMTIyOSI7czoxMDoiZXhwaXJhdGlvbiI7aToxNzAyMTAwMDAzO30%3D640ae7471cceb57f4e2389426bda7b76b7b27a70',
      'referer': 'https://www.dota2.com/majorsregistration/rosters',
      'sec-ch-ua': '"Chromium";v="110", "Not A(Brand";v="24", "Microsoft Edge";v="110"',
      'sec-ch-ua-mobile': '?0',
      'sec-ch-ua-platform': '"macOS"',
      'sec-fetch-dest': 'empty',
      'sec-fetch-mode': 'cors',
      'sec-fetch-site': 'same-origin',
      'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.69',
      'x-requested-with': 'XMLHttpRequest'
    },
    url: `https://www.dota2.com/majorsregistration/teammembers?team_id=${id}`,
  };
  return axios(config)
    .then(res => {
      return res.data
    }).then(json => {
      teams.push({
        teamId: id,
        members: json || []
      })
      console.log("获取队员成功", json.length);
    }).catch(err => {
      console.log("获取队员失败", id, err);
    })
}
async function getAll() {
  for (const id of teamIds) {
    await getMembers(id)
  }
}
getAll()
  .then(() => {
    // convert JSON object to string
    const data = JSON.stringify(teams, null, 2);
    // write JSON string to a file
    fs.writeFile('dota2-teams.json', data, (err) => {
      if (err) {
        throw err;
      }
      console.log("JSON data is saved.");
    });
  })
